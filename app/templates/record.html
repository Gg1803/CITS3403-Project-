{% extends "base.html" %}

{% block title %}Record{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <h1 class="text-3xl font-bold mb-6">Sleep Records</h1>
    
    <!-- Calendar container -->
    <div class="bg-white bg-opacity-10 p-6 rounded-lg">
        <div class="mb-6">
            <!-- Month navigation -->
            <div class="flex justify-between mb-4">
                <a href="{{ url_for('record') }}?month={{ prev_month }}" class="text-white hover:underline">← Previous</a>
                <a href="{{ url_for('record') }}?month={{ next_month }}" class="text-white hover:underline">Next →</a>
            </div>

            <!-- Dynamic month heading -->
            <h2 class="text-xl font-bold mb-3">{{ month_name }} {{ year }}</h2>

            <!-- Calendar grid -->
            <div class="grid grid-cols-7 gap-2 text-center">
                {% set width_percentages = [30, 40, 50, 60, 40, 70, 80, 30, 40, 50, 60, 40, 70, 80, 30, 40, 50, 60, 40, 70, 80, 30, 40, 50, 60, 40, 70, 80, 30, 40, 50] %}
                {% for day in days %}
                <div class="p-2 bg-white bg-opacity-5 rounded hover:bg-opacity-20 cursor-pointer"
                     onclick="openDayModal({{ day }})">
                    {{ day }}
                    <!--<div class="h-1 mt-1 bg-green-400 rounded-full" style="width: {{ width_percentages[loop.index0] }}%"></div>-->
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Add entry button -->
        <button class="bg-secondary text-white font-bold py-2 px-4 rounded hover:bg-opacity-90 transition duration-200">
            Add Sleep Entry
            <!-- this is where the supposed csv file upload implementation is to be made -->
        </button>
    </div>
</div>


    
{% endblock %}
